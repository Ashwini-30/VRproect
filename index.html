<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>IITM Cleanroom VR</title>
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

<style>
 body{margin:0;background:#000;font-family:sans-serif;}
 #fade{position:absolute;inset:0;background:#000;opacity:0;transition:.4s;z-index:9;}
 #fade.on{opacity:1;}

 /* keep subtitles+progress on screen */
 #subtitles,#progressWrap{position:fixed;left:50%;transform:translateX(-50%);z-index:99;color:white;}
 #subtitles{bottom:60px;font-size:18px;padding:8px 15px;background:#0009;border-radius:8px;border:1px solid #0ff;display:none;}
 #progressWrap{bottom:35px;width:60%;height:6px;border-radius:15px;background:#fff3;display:none;}
 #progressBar{height:100%;width:0;background:#0ff;}
</style>
</head>
<body>

<div id="fade"></div>
<div id="subtitles"></div>
<div id="progressWrap"><div id="progressBar"></div></div>

<a-scene renderer="colorManagement:true" vr-mode-ui="enabled:true">

 <!-- SKY PANORAMA -->
 <a-sky id="sky" radius="500"></a-sky>

 <!-- DESKTOP MOUSE SUPPORT -->
 <a-entity camera look-controls position="0 1.6 0">
  <a-entity cursor="rayOrigin:mouse" raycaster="objects:.clickable"
            geometry="primitive:ring;radiusInner:0.01;radiusOuter:0.015"
            material="color:#fff"></a-entity>
 </a-entity>

 <!-- QUEST CONTROLLERS (REAL VR CLICK SOURCE) -->
 <a-entity laser-controls="hand:right" raycaster="objects:.clickable;far:15;showLine:true"></a-entity>
 <a-entity laser-controls="hand:left"  raycaster="objects:.clickable;far:15;showLine:true"></a-entity>

<!-- ********************* VR INTERACTABLE UI ************************ -->

<!-- AUDIO PANEL in VR -->
<a-entity position="0 1.5 -1.5">
 <a-image id="vrPlay"   class="clickable" src="Images/start.png"  position="-0.6 0 0" width="0.35" height="0.35"></a-image>
 <a-image id="vrStop"   class="clickable" src="Images/stop.png"   position=" 0.0 0 0" width="0.35" height="0.35"></a-image>
 <a-image id="vrReplay" class="clickable" src="Images/replay.png" position=" 0.6 0 0" width="0.35" height="0.35"></a-image>
</a-entity>

<!-- PPE OPEN BUTTON in VR -->
<a-plane id="vrPPE" class="clickable" position="0 1.2 -1.3" width="0.7" height="0.25"
         color="#222" text="value:Open PPE Test;color:#FFD770;align:center;width:2"></a-plane>


<!-- PPE VR PICK GRID --> 
<a-entity id="ppeGridVR" visible="false" position="0 1.0 -1.4">
 <a-image class="ppeVR clickable" data-id="ppe1"  src="Images/ppe_labcoat.png"     position="-0.6 0.3 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe2"  src="Images/ppe_shoe.png"         position="-0.2 0.3 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe3"  src="Images/ppe_hairnet.png"      position="0.2  0.3 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe4"  src="Images/ppe_mask.png"         position="0.6  0.3 0" width="0.25"></a-image>

 <a-image class="ppeVR clickable" data-id="ppe5"  src="Images/ppe_goggle.png"       position="-0.6 -0.2 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe6"  src="Images/ppe_gown.png"         position="-0.2 -0.2 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe7"  src="Images/ppe_shoecover.png"    position="0.2 -0.2 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe8"  src="Images/ppe_boot.png"         position="0.6 -0.2 0" width="0.25"></a-image>

 <a-image class="ppeVR clickable" data-id="ppe9"  src="Images/ppe_purpleglove.png"  position="-0.3 -0.7 0" width="0.25"></a-image>
 <a-image class="ppeVR clickable" data-id="ppe10" src="Images/ppe_glove_blue.png"   position="0.3  -0.7 0" width="0.25"></a-image>
</a-entity>

<!-- NAVIGATION -->
<a-entity id="navPanel" position="0 0.2 -1.3">
 <a-plane id="btnPrev"  class="clickable" width="1" height="0.7"></a-plane>
 <a-plane id="btnEnter" class="clickable" width="1" height="0.9"></a-plane>
 <a-plane id="btnNext"  class="clickable" width="1" height="0.7"></a-plane>
</a-entity>

<script src="tour_VR.js"></script>
</a-scene>
</body>
</html>
