<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>IITM MEMS Lab â€” Clean VR Controls</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<style>
html,body{margin:0;height:100%;background:#000;font-family:Poppins,"Segoe UI",system-ui,sans-serif;}
#fade{position:absolute;left:0;top:0;right:0;bottom:0;background:#000;pointer-events:none;opacity:0;transition:.35s;z-index:9;}
#fade.on{opacity:1}

/*==================== AUDIO UI TOP RIGHT ====================*/
#audioUI{position:fixed;top:16px;right:16px;display:flex;gap:14px;z-index:999}
.audioBtn{width:78px;height:78px;border-radius:18px;background:#000000aa;border:3px solid #00eaff;
backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;box-shadow:0 0 20px #00eaff;}
.audioBtn img{width:82%;pointer-events:none}

/*==================== SUBTITLES ====================*/
#subtitles{position:fixed;left:50%;bottom:72px;transform:translateX(-50%);padding:12px 20px;
background:#000000bb;border-radius:12px;border:2px solid #00eaff;color:#fff;font-size:17px;display:none;z-index:800}
#progressWrap{position:fixed;left:50%;bottom:42px;transform:translateX(-50%);width:60%;height:6px;border-radius:5px;
background:#ffffff33;display:none;z-index:800;}
#progressBar{height:100%;width:0;background:#00eaff;border-radius:5px;}

/*==================== PPE PANEL ====================*/
#ppeUI{position:fixed;top:120px;left:20px;z-index:999}
#ppeToggle{padding:10px 18px;background:#000000c7;border:2px solid #ffb300;color:#ffdf91;border-radius:12px;font-size:15px}

#ppePanel{width:280px;padding:14px;background:#000000d7;border-radius:14px;border:2px solid #ffb300;color:#fff;
display:none;font-size:13px;margin-top:10px}
#ppeHeader{font-size:15px;color:#ffd770;font-weight:600;margin-bottom:4px;}
#ppeMsg{margin-bottom:6px;min-height:38px;}

#ppeGrid{display:grid;grid-template-columns:repeat(5,1fr);gap:6px;}
.ppe-item{width:52px;height:52px;border-radius:10px;background:#ffffff11;cursor:pointer;display:flex;
align-items:center;justify-content:center;transition:.2s}
.ppe-item img{width:85%;pointer-events:none}
.ppe-item:hover{background:#ffaa00aa}
.ppe-item.selected{opacity:.3;border:2px solid #00eaff}

#ppeFooter{display:flex;justify-content:space-between;margin-top:6px}
#ppeClose{padding:4px 12px;border:1px solid #ff7070;background:#330000;color:#ffa8a8;border-radius:999px}
#ppeSceneType{font-size:12px;opacity:.85}
</style>
</head>

<body>

<div id="fade"></div>

<!--================== AUDIO BUTTONS ==================-->
<div id="audioUI">
 <button id="btnAudioPlay" class="audioBtn"><img src="Images/start.png"></button>
 <button id="btnAudioStop" class="audioBtn"><img src="Images/stop.png"></button>
 <button id="btnAudioReplay" class="audioBtn"><img src="Images/replay.png"></button>
</div>

<!--================== SUBTITLE + BAR ==================-->
<div id="subtitles"></div>
<div id="progressWrap"><div id="progressBar"></div></div>

<!--================== PPE UI ==================-->
<div id="ppeUI">
 <button id="ppeToggle">Cleanroom PPE Test</button>

 <div id="ppePanel">
  <div id="ppeHeader">Gowning Sequence Practice</div>
  <div id="ppeMsg">Tap PPE test to start.</div>

  <div id="ppeGrid">
   <div class="ppe-item" data-id="ppe1"><img src="Images/ppe_labcoat.png"></div>
   <div class="ppe-item" data-id="ppe2"><img src="Images/ppe_shoe.png"></div>
   <div class="ppe-item" data-id="ppe3"><img src="Images/ppe_hairnet.png"></div>
   <div class="ppe-item" data-id="ppe4"><img src="Images/ppe_mask.png"></div>
   <div class="ppe-item" data-id="ppe5"><img src="Images/ppe_goggle.png"></div>

   <div class="ppe-item" data-id="ppe6"><img src="Images/ppe_gown.png"></div>
   <div class="ppe-item" data-id="ppe7"><img src="Images/ppe_shoecover.png"></div>
   <div class="ppe-item" data-id="ppe8"><img src="Images/ppe_boot.png"></div>
   <div class="ppe-item" data-id="ppe9"><img src="Images/ppe_purpleglove.png"></div>
   <div class="ppe-item" data-id="ppe10"><img src="Images/ppe_glove_blue.png"></div>
  </div>

  <div id="ppeFooter">
   <span id="ppeSceneType"></span>
   <button id="ppeClose">Close</button>
  </div>
 </div>
</div>

<!--================== 360 SCENE + VR UI ==================-->
<a-scene embedded vr-mode-ui="enabled:true">

 <a-assets>
  <img id="i_prev" src="Images/prevb.png">
  <img id="i_next" src="Images/nextb.png">
  <img id="i_enter" src="Images/enterbb.png">
  <img id="i_s" src="Images/start.png">
  <img id="i_st" src="Images/stop.png">
  <img id="i_r" src="Images/replay.png">
 </a-assets>

 <a-sky id="sky" rotation="0 -90 0"></a-sky>

 <!-- VR CONTROLLERS -->
 <a-entity laser-controls="hand:right"></a-entity>
 <a-entity laser-controls="hand:left"></a-entity>

 <!-- VR MENU BUTTON PACK -->
 <a-entity id="vrUI" position="0 1.6 -1.6">
  <a-plane id="vrPlay"   class="vrbtn clickable" width="0.5" height="0.22" src="#i_s"  position="-0.6 0.3 0"></a-plane>
  <a-plane id="vrStop"   class="vrbtn clickable" width="0.5" height="0.22" src="#i_st" position="0 0.3 0"></a-plane>
  <a-plane id="vrReplay" class="vrbtn clickable" width="0.5" height="0.22" src="#i_r"  position="0.6 0.3 0"></a-plane>
  <a-plane id="vrPPE"    class="vrbtn clickable" width="1.3" height="0.32" color="#ffaa00"
    text="value:PPE TEST;align:center" position="0 -0.05 0"></a-plane>
 </a-entity>

 <!-- VR NAVIGATION -->
 <a-plane id="btnPrev" class="clickable" width="1" height="1" position="-1.8 0 -1.5"></a-plane>
 <a-plane id="btnEnter"class="clickable" width="1" height="1" position="0 0 -1.5"></a-plane>
 <a-plane id="btnNext" class="clickable" width="1" height="1" position="1.8 0 -1.5"></a-plane>

</a-scene>

<script src="tour.js"></script>
</body>
</html>
