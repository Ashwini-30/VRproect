<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>IITM MEMS VR â€” Interactive Cleanroom Tour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- A-Frame + controller support -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>

  <style>
    html,body{margin:0;height:100%;background:#000;font-family:Poppins;}
    #fade{position:absolute;inset:0;background:#000;opacity:0;transition:.35s;z-index:10;}
    #fade.on{opacity:1;}
  </style>
</head>

<body>

<div id="fade"></div>

<!-- ========================= VR WORLD ============================= -->
<a-scene renderer="antialias:true" vr-mode-ui="enabled:true">

    <!-- 360 photo -->
    <a-sky id="sky" rotation="0 -90 0"></a-sky>

    <!-- CAMERA + RAY FOR QUEST -->
    <a-entity id="rig" position="0 1.6 0">
      <a-camera id="cam" wasd-controls look-controls cursor="rayOrigin:mouse"></a-camera>

      <!-- Hand controllers (Quest3) -->
      <a-entity laser-controls="hand:right" raycaster="objects:.vr-click"></a-entity>
      <a-entity laser-controls="hand:left"  raycaster="objects:.vr-click"></a-entity>
    </a-entity>



    <!-- =================ðŸ“ NAVIGATION PANEL=================== -->
    <a-entity id="navPanel" position="0 0.25 -1.2">
      <a-image id="btnPrev"  class="vr-click" width="0.50" height="0.35"></a-image>
      <a-image id="btnEnter" class="vr-click" width="0.55" height="0.40" position="0 0 0.01"></a-image>
      <a-image id="btnNext"  class="vr-click" width="0.50" height="0.35" position="1 0 0.01"></a-image>
    </a-entity>



    <!-- =================ðŸ”Š AUDIO PANEL (BIGGER)=============== -->
    <a-entity id="audioPanel" position="1.2 1.6 -1.4">
      <a-plane width="0.8" height="0.35" color="#000" opacity="0.55"></a-plane>

      <a-image id="audioPlay"   class="vr-click" width="0.22" height="0.22" position="-0.25 0 0.01"></a-image>
      <a-image id="audioStop"   class="vr-click" width="0.22" height="0.22" position="0.05  0 0.01"></a-image>
      <a-image id="audioReplay" class="vr-click" width="0.22" height="0.22" position="0.35  0 0.01"></a-image>
    </a-entity>



    <!-- =================ðŸ§¤ PPE PANEL (BIGGER)================= -->
    <a-entity id="ppeButton" class="vr-click" position="-1.25 1.5 -1.3">
      <a-plane width="0.55" height="0.25" color="orange"></a-plane>
      <a-text value="PPE TEST" align="center" color="#000" width="1.2" position="0 0 0.01"></a-text>
    </a-entity>

    <a-entity id="ppePanel" visible="false" position="0 1.3 -1.5">
      <a-plane width="1.6" height="1.1" color="#222" opacity="0.95"></a-plane>
      <a-text id="ppeMsg" value="Select PPE in sequence" width="2" align="center" position="0 0.45 0.02"></a-text>

      <!-- BIGGER PPE GRID -->
      <a-entity id="ppeGrid" position="-0.65 0.05 0.05">
        <a-image class="ppe vr-click" id="ppe1"  width="0.22" height="0.22"></a-image>
        <a-image class="ppe vr-click" id="ppe2"  width="0.22" height="0.22" position="0.30 0 0"></a-image>
        <a-image class="ppe vr-click" id="ppe3"  width="0.22" height="0.22" position="0.60 0 0"></a-image>
        <a-image class="ppe vr-click" id="ppe4"  width="0.22" height="0.22" position="0.90 0 0"></a-image>

        <a-image class="ppe vr-click" id="ppe5" width="0.22" height="0.22" position="1.20 0 0"></a-image>

        <a-image class="ppe vr-click" id="ppe6"  width="0.22" height="0.22" position="0 -0.30 0"></a-image>
        <a-image class="ppe vr-click" id="ppe7"  width="0.22" height="0.22" position="0.30 -0.30 0"></a-image>
        <a-image class="ppe vr-click" id="ppe8"  width="0.22" height="0.22" position="0.60 -0.30 0"></a-image>
        <a-image class="ppe vr-click" id="ppe9"  width="0.22" height="0.22" position="0.90 -0.30 0"></a-image>
        <a-image class="ppe vr-click" id="ppe10" width="0.22" height="0.22" position="1.20 -0.30 0"></a-image>
      </a-entity>

      <a-text value="Close" color="red" id="ppeClose" class="vr-click"
              position="0 -0.45 0.02" width="1"></a-text>
    </a-entity>


    <!-- ambient -->
    <a-entity light="type:ambient;intensity:1"></a-entity>

</a-scene>

<!-- MAIN LOGIC FILE -->
<script src="tour.js"></script>

</body>
</html>
