<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>IITM MEMS Lab VR</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

<style>
html,body{margin:0;height:100%;background:#000;font-family:Poppins;}
#fade{position:absolute;inset:0;background:#000;opacity:0;transition:.4s;z-index:9}
#fade.on{opacity:1}

/* TOP RIGHT AUDIO UI */
#audioUI{position:fixed;top:15px;right:15px;display:flex;gap:14px;z-index:999}
.audioBtn{width:70px;height:70px;border-radius:16px;border:2px solid #00eaff;background:#0009;
          display:flex;align-items:center;justify-content:center;cursor:pointer}
.audioBtn img{width:75%}

/* PPE UI LEFT */
#ppeUI{position:fixed;top:90px;left:15px;z-index:999}
#ppePanel{width:260px;padding:10px;background:#000d;border:1px solid #ffb100;display:none;color:#fff}

/* VR INTERACTABLE PLANES (invisible) */
.vrTouch{opacity:0.001}
</style>
</head>

<body>

<div id="fade"></div>

<!-- ============== 2D UI (unchanged) ============== -->
<div id="audioUI">
  <button id="btnAudioPlay" class="audioBtn"><img src="Images/start.png"></button>
  <button id="btnAudioStop" class="audioBtn"><img src="Images/stop.png"></button>
  <button id="btnAudioReplay" class="audioBtn"><img src="Images/replay.png"></button>
</div>

<div id="ppeUI">
<button id="ppeToggle">Cleanroom PPE Test</button>
<div id="ppePanel">
  <div id="ppeMsg">Tap to start</div>
  <div id="ppeGrid">
    <div class="ppe-item" data-id="ppe1"><img src="Images/ppe_labcoat.png"/></div>
    <div class="ppe-item" data-id="ppe2"><img src="Images/ppe_shoe.png"/></div>
    <div class="ppe-item" data-id="ppe3"><img src="Images/ppe_hairnet.png"/></div>
    <div class="ppe-item" data-id="ppe4"><img src="Images/ppe_mask.png"/></div>
    <div class="ppe-item" data-id="ppe5"><img src="Images/ppe_goggle.png"/></div>
    <div class="ppe-item" data-id="ppe6"><img src="Images/ppe_gown.png"/></div>
    <div class="ppe-item" data-id="ppe7"><img src="Images/ppe_shoecover.png"/></div>
    <div class="ppe-item" data-id="ppe8"><img src="Images/ppe_boot.png"/></div>
    <div class="ppe-item" data-id="ppe9"><img src="Images/ppe_purpleglove.png"/></div>
    <div class="ppe-item" data-id="ppe10"><img src="Images/ppe_glove_blue.png"/></div>
  </div>
  <button id="ppeClose">Close</button>
</div>
</div>


<!-- ================= VR VIEW ================= -->
<a-scene renderer="foveationLevel:1; antialias:true" vr-mode-ui="enabled:true">

  <a-sky id="sky" radius="500" rotation="0 -90 0"></a-sky>

  <a-entity id="cameraRig">
      <a-entity id="camera" camera look-controls wasd-controls position="0 1.6 0"></a-entity>
  </a-entity>

  <!-- ***** INVISIBLE VR CLICKERS (Mapping HTML Buttons) ***** -->
  <a-plane id="vrPlay"   class="vrTouch clickable"  position="0 -0.6 -1.2" width="0.3" height="0.2"></a-plane>
  <a-plane id="vrStop"   class="vrTouch clickable"  position="0 -0.3 -1.2" width="0.3" height="0.2"></a-plane>
  <a-plane id="vrReplay" class="vrTouch clickable"  position="0 0.0  -1.2" width="0.3" height="0.2"></a-plane>
  <a-plane id="vrPPE"    class="vrTouch clickable"  position="-0.8 0.3 -1.2" width="0.4" height="0.3"></a-plane>
  <a-plane id="vrPPEclose"class="vrTouch clickable" position="0.8 0.3  -1.2" width="0.4" height="0.3"></a-plane>

  <!-- PREV-ENTER-NEXT â€” same location always in front -->
  <a-entity id="navVR" position="0 -0.2 -1.4">
      <a-plane id="vrPrev"  class="vrTouch clickable" position="-0.6 0 0" width="0.35" height="0.25"></a-plane>
      <a-plane id="vrEnter" class="vrTouch clickable" position="0    0 0" width="0.35" height="0.25"></a-plane>
      <a-plane id="vrNext"  class="vrTouch clickable" position="0.6  0 0" width="0.35" height="0.25"></a-plane>
  </a-entity>

</a-scene>

<script src="tour.js"></script>
</body>
</html>
